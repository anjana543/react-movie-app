{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nexport default function useFetch(url, pageNumber) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState([]);\n  const [hasMore, setHasMore] = useState(false);\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n    let cancel;\n    axios.get(url, {\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(res => {\n      var _res$data;\n\n      setData((_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.page);\n      setHasMore(res.data.page.length > 0);\n      setLoading(false);\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n      setLoading(false);\n      setError(true);\n    });\n    return () => cancel();\n  }, [url, pageNumber]);\n  return {\n    loading,\n    error,\n    data,\n    hasMore\n  };\n}\n\n_s(useFetch, \"nj7ayNh9j5wpHI1daP3exK3poo4=\");","map":{"version":3,"sources":["C:/Projects/dg-react-test/src/hooks/useFetch.jsx"],"names":["useEffect","useState","axios","useFetch","url","pageNumber","loading","setLoading","error","setError","data","setData","hasMore","setHasMore","cancel","get","cancelToken","CancelToken","c","then","res","page","length","catch","e","isCancel"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AAEA,eAAe,SAASC,QAAT,CAAkBC,GAAlB,EAAuBC,UAAvB,EAAmC;AAAA;;AAChD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBN,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACO,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACS,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACW,OAAD,EAAUC,UAAV,IAAwBZ,QAAQ,CAAC,KAAD,CAAtC;AAEAD,EAAAA,SAAS,CAAC,MAAM;AACdO,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,QAAIK,MAAJ;AACAZ,IAAAA,KAAK,CACFa,GADH,CACOX,GADP,EACY;AAAEY,MAAAA,WAAW,EAAE,IAAId,KAAK,CAACe,WAAV,CAAuBC,CAAD,IAAQJ,MAAM,GAAGI,CAAvC;AAAf,KADZ,EAEGC,IAFH,CAESC,GAAD,IAAS;AAAA;;AACbT,MAAAA,OAAO,cAACS,GAAG,CAACV,IAAL,8CAAC,UAAUW,IAAX,CAAP;AACAR,MAAAA,UAAU,CAACO,GAAG,CAACV,IAAJ,CAASW,IAAT,CAAcC,MAAd,GAAuB,CAAxB,CAAV;AACAf,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KANH,EAOGgB,KAPH,CAOUC,CAAD,IAAO;AACZ,UAAItB,KAAK,CAACuB,QAAN,CAAeD,CAAf,CAAJ,EAAuB;AACvBjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KAXH;AAYA,WAAO,MAAMK,MAAM,EAAnB;AACD,GAjBQ,EAiBN,CAACV,GAAD,EAAMC,UAAN,CAjBM,CAAT;AAmBA,SAAO;AAAEC,IAAAA,OAAF;AAAWE,IAAAA,KAAX;AAAkBE,IAAAA,IAAlB;AAAwBE,IAAAA;AAAxB,GAAP;AACD;;GA1BuBT,Q","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nexport default function useFetch(url, pageNumber) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [data, setData] = useState([]);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(false);\r\n    let cancel;\r\n    axios\r\n      .get(url, { cancelToken: new axios.CancelToken((c) => (cancel = c)) })\r\n      .then((res) => {\r\n        setData(res.data?.page);\r\n        setHasMore(res.data.page.length > 0);\r\n        setLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        if (axios.isCancel(e)) return;\r\n        setLoading(false);\r\n        setError(true);\r\n      });\r\n    return () => cancel();\r\n  }, [url, pageNumber]);\r\n\r\n  return { loading, error, data, hasMore };\r\n}\r\n"]},"metadata":{},"sourceType":"module"}