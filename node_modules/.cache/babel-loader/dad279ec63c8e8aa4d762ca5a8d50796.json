{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { API } from \"../utils/constant\";\n/**\r\n * @description - useFetch Hook - GET Api call\r\n * @param {string} path\r\n * @param {Number} pageNumber\r\n * @returns {useFetchObject}\r\n */\n\nexport default function useFetch(path, pageNumber) {\n  _s();\n\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [data, setData] = useState({});\n  const [hasMore, setHasMore] = useState(false);\n  const url = path === null || path === void 0 ? void 0 : path[pageNumber];\n  useEffect(() => {\n    setLoading(true);\n    setError(false);\n    let cancel;\n    axios.get(url, {\n      headers: {\n        \"secret-key\": API.SECRET_KEY\n      },\n      cancelToken: new axios.CancelToken(c => cancel = c)\n    }).then(res => {\n      var _res$data, _res$data2;\n\n      setData(res === null || res === void 0 ? void 0 : (_res$data = res.data) === null || _res$data === void 0 ? void 0 : _res$data.page);\n      setHasMore(res !== null && res !== void 0 && (_res$data2 = res.data) !== null && _res$data2 !== void 0 && _res$data2.page ? res.data.page[\"page-size-requested\"] === res.data.page[\"page-size-returned\"] : false);\n      setLoading(false);\n    }).catch(e => {\n      if (axios.isCancel(e)) return;\n      setLoading(false);\n      setError(true);\n    });\n    return () => cancel();\n  }, [path, pageNumber]);\n  return {\n    loading,\n    error,\n    data,\n    hasMore\n  };\n}\n/**\r\n * @typedef {object} useFetchObject\r\n * @property {boolean} loading\r\n * @property {Error} error\r\n * @property {Response} data\r\n * @property {boolean} hasMore\r\n */\n\n_s(useFetch, \"1PWv2LzazqQW1mb7oXWiZtovwv0=\");","map":{"version":3,"sources":["C:/Projects/dg-react-test/src/hooks/useFetch.jsx"],"names":["useEffect","useState","axios","API","useFetch","path","pageNumber","loading","setLoading","error","setError","data","setData","hasMore","setHasMore","url","cancel","get","headers","SECRET_KEY","cancelToken","CancelToken","c","then","res","page","catch","e","isCancel"],"mappings":";;AAAA,SAASA,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,GAAT,QAAoB,mBAApB;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,QAAT,CAAkBC,IAAlB,EAAwBC,UAAxB,EAAoC;AAAA;;AACjD,QAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBP,QAAQ,CAAC,IAAD,CAAtC;AACA,QAAM,CAACQ,KAAD,EAAQC,QAAR,IAAoBT,QAAQ,CAAC,KAAD,CAAlC;AACA,QAAM,CAACU,IAAD,EAAOC,OAAP,IAAkBX,QAAQ,CAAC,EAAD,CAAhC;AACA,QAAM,CAACY,OAAD,EAAUC,UAAV,IAAwBb,QAAQ,CAAC,KAAD,CAAtC;AACA,QAAMc,GAAG,GAAGV,IAAH,aAAGA,IAAH,uBAAGA,IAAI,CAAGC,UAAH,CAAhB;AAEAN,EAAAA,SAAS,CAAC,MAAM;AACdQ,IAAAA,UAAU,CAAC,IAAD,CAAV;AACAE,IAAAA,QAAQ,CAAC,KAAD,CAAR;AACA,QAAIM,MAAJ;AACAd,IAAAA,KAAK,CACFe,GADH,CACOF,GADP,EACY;AACRG,MAAAA,OAAO,EAAE;AACP,sBAAcf,GAAG,CAACgB;AADX,OADD;AAIRC,MAAAA,WAAW,EAAE,IAAIlB,KAAK,CAACmB,WAAV,CAAuBC,CAAD,IAAQN,MAAM,GAAGM,CAAvC;AAJL,KADZ,EAOGC,IAPH,CAOSC,GAAD,IAAS;AAAA;;AACbZ,MAAAA,OAAO,CAACY,GAAD,aAACA,GAAD,oCAACA,GAAG,CAAEb,IAAN,8CAAC,UAAWc,IAAZ,CAAP;AACAX,MAAAA,UAAU,CACRU,GAAG,SAAH,IAAAA,GAAG,WAAH,kBAAAA,GAAG,CAAEb,IAAL,kDAAWc,IAAX,GACID,GAAG,CAACb,IAAJ,CAASc,IAAT,CAAc,qBAAd,MACED,GAAG,CAACb,IAAJ,CAASc,IAAT,CAAc,oBAAd,CAFN,GAGI,KAJI,CAAV;AAMAjB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACD,KAhBH,EAiBGkB,KAjBH,CAiBUC,CAAD,IAAO;AACZ,UAAIzB,KAAK,CAAC0B,QAAN,CAAeD,CAAf,CAAJ,EAAuB;AACvBnB,MAAAA,UAAU,CAAC,KAAD,CAAV;AACAE,MAAAA,QAAQ,CAAC,IAAD,CAAR;AACD,KArBH;AAsBA,WAAO,MAAMM,MAAM,EAAnB;AACD,GA3BQ,EA2BN,CAACX,IAAD,EAAOC,UAAP,CA3BM,CAAT;AA6BA,SAAO;AAAEC,IAAAA,OAAF;AAAWE,IAAAA,KAAX;AAAkBE,IAAAA,IAAlB;AAAwBE,IAAAA;AAAxB,GAAP;AACD;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;GA7CwBT,Q","sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { API } from \"../utils/constant\";\r\n\r\n/**\r\n * @description - useFetch Hook - GET Api call\r\n * @param {string} path\r\n * @param {Number} pageNumber\r\n * @returns {useFetchObject}\r\n */\r\nexport default function useFetch(path, pageNumber) {\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(false);\r\n  const [data, setData] = useState({});\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const url = path?.[pageNumber];\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    setError(false);\r\n    let cancel;\r\n    axios\r\n      .get(url, {\r\n        headers: {\r\n          \"secret-key\": API.SECRET_KEY,\r\n        },\r\n        cancelToken: new axios.CancelToken((c) => (cancel = c)),\r\n      })\r\n      .then((res) => {\r\n        setData(res?.data?.page);\r\n        setHasMore(\r\n          res?.data?.page\r\n            ? res.data.page[\"page-size-requested\"] ===\r\n                res.data.page[\"page-size-returned\"]\r\n            : false\r\n        );\r\n        setLoading(false);\r\n      })\r\n      .catch((e) => {\r\n        if (axios.isCancel(e)) return;\r\n        setLoading(false);\r\n        setError(true);\r\n      });\r\n    return () => cancel();\r\n  }, [path, pageNumber]);\r\n\r\n  return { loading, error, data, hasMore };\r\n}\r\n\r\n/**\r\n * @typedef {object} useFetchObject\r\n * @property {boolean} loading\r\n * @property {Error} error\r\n * @property {Response} data\r\n * @property {boolean} hasMore\r\n */\r\n"]},"metadata":{},"sourceType":"module"}